# ç«¯å£é—®é¢˜å¿«é€Ÿè§£å†³æ–¹æ¡ˆ

## ğŸš¨ é‡åˆ° "Error response from daemon" æˆ–ç«¯å£å ç”¨é”™è¯¯ï¼Ÿ

### æ–¹æ¡ˆ 1ï¼šä¸€é”®è‡ªåŠ¨ä¿®å¤ï¼ˆæ¨èï¼‰

åœ¨æœåŠ¡å™¨ä¸Šè¿è¡Œï¼š

```bash
cd /www/wwwroot/career_helper-main
chmod +x fix-port-issues.sh
./fix-port-issues.sh
```

è„šæœ¬ä¼šè‡ªåŠ¨ï¼š
- åœæ­¢æ—§å®¹å™¨
- æ£€æŸ¥å¹¶é‡Šæ”¾ç«¯å£
- æ¸…ç† Docker èµ„æº
- é‡æ–°å¯åŠ¨æœåŠ¡

---

### æ–¹æ¡ˆ 2ï¼šæ‰‹åŠ¨ä¿®å¤

#### Step 1: åœæ­¢æ‰€æœ‰å®¹å™¨

```bash
cd /www/wwwroot/career_helper-main
docker compose down
```

#### Step 2: æ£€æŸ¥ç«¯å£å ç”¨

```bash
# æ£€æŸ¥ 3000 ç«¯å£
sudo lsof -i :3000
sudo netstat -tulpn | grep :3000

# æ£€æŸ¥ 8082 ç«¯å£
sudo lsof -i :8082
sudo netstat -tulpn | grep :8082
```

#### Step 3: ç»ˆæ­¢å ç”¨è¿›ç¨‹ï¼ˆå¦‚æœæœ‰ï¼‰

```bash
# ç»ˆæ­¢ 3000 ç«¯å£çš„è¿›ç¨‹
sudo kill -9 <PID>

# ç»ˆæ­¢ 8082 ç«¯å£çš„è¿›ç¨‹
sudo kill -9 <PID>
```

#### Step 4: é‡æ–°å¯åŠ¨

```bash
docker compose up -d
```

---

### æ–¹æ¡ˆ 3ï¼šä½¿ç”¨å¤‡ç”¨ç«¯å£

å¦‚æœç«¯å£æ— æ³•é‡Šæ”¾ï¼Œä¿®æ”¹ç«¯å£æ˜ å°„ï¼š

```bash
cd /www/wwwroot/career_helper-main
docker compose -f docker-compose.alternative-ports.yml up -d
```

è®¿é—®åœ°å€ï¼š
- å‰ç«¯ï¼šhttp://your-server:3001
- åç«¯ï¼šhttp://your-server:8083

---

### æ–¹æ¡ˆ 4ï¼šä»…ä¿®æ”¹å‰ç«¯ç«¯å£

ç¼–è¾‘ `docker-compose.yml`ï¼š

```yaml
services:
  frontend:
    ports:
      - "3001:3000"  # æ”¹æˆ 3001 æˆ–å…¶ä»–å¯ç”¨ç«¯å£
```

---

### æ–¹æ¡ˆ 5ï¼šä»…ä¿®æ”¹åç«¯ç«¯å£

ç¼–è¾‘ `docker-compose.yml`ï¼š

```yaml
services:
  backend:
    ports:
      - "8083:8082"  # æ”¹æˆ 8083 æˆ–å…¶ä»–å¯ç”¨ç«¯å£
```

**æ³¨æ„**ï¼šä¿®æ”¹åç«¯ç«¯å£åï¼Œéœ€è¦åŒæ­¥ä¿®æ”¹å‰ç«¯çš„ API åœ°å€ï¼

---

## å¸¸è§é”™è¯¯ä¿¡æ¯

### `bind: address already in use`

**åŸå› **ï¼šç«¯å£è¢«å ç”¨

**å¿«é€Ÿè§£å†³**ï¼š
```bash
docker compose down
sudo lsof -i :3000 -i :8082 | grep LISTEN | awk '{print $2}' | xargs sudo kill -9
docker compose up -d
```

---

### `Cannot connect to the Docker daemon`

**åŸå› **ï¼šDocker æœåŠ¡æœªè¿è¡Œ

**è§£å†³**ï¼š
```bash
sudo systemctl start docker
sudo systemctl enable docker  # è®¾ç½®å¼€æœºè‡ªå¯
```

---

### `permission denied`

**åŸå› **ï¼šæƒé™ä¸è¶³

**è§£å†³**ï¼š
```bash
# æ–¹æ³•1ï¼šä½¿ç”¨ sudo
sudo docker compose up -d

# æ–¹æ³•2ï¼šå°†ç”¨æˆ·åŠ å…¥ docker ç»„
sudo usermod -aG docker $USER
newgrp docker  # æˆ–æ³¨é”€åé‡æ–°ç™»å½•
```

---

## éªŒè¯æœåŠ¡è¿è¡Œ

```bash
# æŸ¥çœ‹å®¹å™¨çŠ¶æ€
docker compose ps

# æŸ¥çœ‹å®¹å™¨æ—¥å¿—
docker compose logs -f

# æµ‹è¯•å‰ç«¯
curl http://localhost:3000

# æµ‹è¯•åç«¯
curl http://localhost:8082/ping
```

---

## ç”Ÿäº§ç¯å¢ƒæ¨è

### ä½¿ç”¨ Nginx åå‘ä»£ç†

è¿™æ ·å¯ä»¥é¿å…ç«¯å£å†²çªï¼Œç»Ÿä¸€é€šè¿‡ 80/443 ç«¯å£è®¿é—®ï¼š

```bash
docker compose -f docker-compose.yml up -d
```

è¯¦è§ï¼š`DEPLOYMENT.md`

---

## éœ€è¦å¸®åŠ©ï¼Ÿ

æŸ¥çœ‹å®Œæ•´éƒ¨ç½²æ–‡æ¡£ï¼š`DEPLOYMENT.md`

æ£€æŸ¥ Docker æ—¥å¿—ï¼š
```bash
docker compose logs -f backend
docker compose logs -f frontend
```
